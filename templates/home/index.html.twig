{% extends 'base.html.twig' %}

{% block javascripts %}
    {{ parent() }}
        
    <script src="{{ asset('js/swiper.js') }}" defer></script>

    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
{% endblock %}

{% block title %}Hello HomeController!{% endblock %}

{% block body %}
<main class="homepage">
    <section class="hero">
        <div class="hero__container">
            <div class="hero__banner swiper mySwiper">
                <div class="swiper-wrapper">
                    {% for image in imagesBanner %}
                    <div class="swiper-slide">
                        <img src="{{ asset('assets/uploads/galleries/' ~ image.nom) }}" alt="">
                    </div>
                    {% endfor %}
                </div>
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
                <div class="swiper-pagination"></div>
            </div>
            <div class="hero__content">
                <h1>Trouvez le prestataire qui répondra à vos besoins</h1>
                <div class="hero__featured">
                    <h2>Service du mois</h2>
                    <div class="hero__featured--container ">
                        {% for service in categories %}
                        {% if service.enAvant %}
                            {% for image in service.images %}
                            <img src="{{ asset('assets/uploads/categories/' ~ image.nom) }}" alt="">
                            {% endfor %}
                            <h2>{{ service.nom }}</h2>
                            <p>
                            {{ service.getDescriptionTronquee(150) }}
                            </p>
                            <a href="{{ path('services_show', {id: service.id}) }}">
                            En savoir plus
                            </a>
                        {% endif %}
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </section>

    {{ include('_partials/_search-bar.html.twig') }}

    <section class="prestataires">
        <h2>Découvrez nos nouveaux prestataires</h2>
        <div class="prestataires-content">
            {% for prestataire in prestataires %}
            <div class="prestataire">
                <div class="prestataire-header">
                    <div>
                        <h3>{{ prestataire.nom }} {{ prestataire.prenom }}</h3>
                        {% for row in prestataire.promotion|slice(0,1) %}
                        <h4>{{ row.categorie.nom }}</h4>
                        {% endfor %}
                    </div>
                </div>
                <div class="prestataire-profil">
                    {% for image in prestataire.images %}
                    <img src="{{ asset('assets/uploads/prestataire/' ~ image.nom) }}" alt="">   
                    {% endfor %}
                </div>
                <div>
                    <div class="prestataire-socials">
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24">
                                        <defs>
                                        <linearGradient id="linear-gradient" y1="0.085" x2="0.928" y2="0.895" gradientUnits="objectBoundingBox">
                                            <stop offset="0" stop-color="#ccc5ff"/>
                                            <stop offset="1" stop-color="#a5d2f6"/>
                                        </linearGradient>
                                        <clipPath id="clip-path">
                                            <rect id="Rectangle_327" data-name="Rectangle 327" width="16" height="16" fill="#fff"/>
                                        </clipPath>
                                        </defs>
                                        <g id="Groupe_430" data-name="Groupe 430" transform="translate(41 4142)">
                                        <rect id="Rectangle_402" data-name="Rectangle 402" width="24" height="24" rx="10" transform="translate(-41 -4142)" fill="url(#linear-gradient)"/>
                                        <g id="Groupe_308" data-name="Groupe 308" transform="translate(-37 -4138)">
                                            <g id="Groupe_307" data-name="Groupe 307" transform="translate(0 0)" clip-path="url(#clip-path)">
                                            <path id="Tracé_121" data-name="Tracé 121" d="M3.4,12.6A6.5,6.5,0,1,1,14.5,8,1.25,1.25,0,0,1,12,8a4,4,0,1,0-.571,2.06A2.75,2.75,0,0,0,16,8a8,8,0,1,0-2.343,5.657A.75.75,0,0,0,12.6,12.6a6.5,6.5,0,0,1-9.193,0h0ZM8,5.5A2.5,2.5,0,1,0,10.5,8,2.5,2.5,0,0,0,8,5.5" transform="translate(0 0)" fill="#fff" fill-rule="evenodd"/>
                                            </g>
                                        </g>
                                        </g>
                        </svg>
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24">
                                        <defs>
                                        <linearGradient id="linear-gradient" y1="0.085" x2="0.928" y2="0.895" gradientUnits="objectBoundingBox">
                                            <stop offset="0" stop-color="#ccc5ff"/>
                                            <stop offset="1" stop-color="#a5d2f6"/>
                                        </linearGradient>
                                        <clipPath id="clip-path">
                                            <rect id="Rectangle_306" data-name="Rectangle 306" width="16" height="16" fill="#fff"/>
                                        </clipPath>
                                        </defs>
                                        <g id="Groupe_431" data-name="Groupe 431" transform="translate(9 4142)">
                                        <rect id="Rectangle_401" data-name="Rectangle 401" width="24" height="24" rx="10" transform="translate(-9 -4142)" fill="url(#linear-gradient)"/>
                                        <g id="Groupe_261" data-name="Groupe 261" transform="translate(-5 -4138)">
                                            <g id="Groupe_260" data-name="Groupe 260" transform="translate(0 0)" clip-path="url(#clip-path)">
                                            <path id="Tracé_105" data-name="Tracé 105" d="M4.64,0h6.72A4.643,4.643,0,0,1,16,4.64v6.72A4.64,4.64,0,0,1,11.36,16H4.64A4.643,4.643,0,0,1,0,11.36V4.64A4.64,4.64,0,0,1,4.64,0M4.48,1.6A2.88,2.88,0,0,0,1.6,4.48v7.04A2.878,2.878,0,0,0,4.48,14.4h7.04a2.88,2.88,0,0,0,2.88-2.88V4.48A2.878,2.878,0,0,0,11.52,1.6H4.48M12.2,2.8a1,1,0,1,1-1,1,1,1,0,0,1,1-1M8,4A4,4,0,1,1,4,8,4,4,0,0,1,8,4M8,5.6A2.4,2.4,0,1,0,10.4,8,2.4,2.4,0,0,0,8,5.6" transform="translate(0 0)" fill="#fff"/>
                                            </g>
                                        </g>
                                        </g>
                        </svg>
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24">
                                        <defs>
                                        <linearGradient id="linear-gradient" y1="0.085" x2="0.928" y2="0.895" gradientUnits="objectBoundingBox">
                                            <stop offset="0" stop-color="#ccc5ff"/>
                                            <stop offset="1" stop-color="#a5d2f6"/>
                                        </linearGradient>
                                        <clipPath id="clip-path">
                                            <rect id="Rectangle_308" data-name="Rectangle 308" width="16" height="16" fill="#fff"/>
                                        </clipPath>
                                        </defs>
                                        <g id="Groupe_432" data-name="Groupe 432" transform="translate(-23 4142)">
                                        <rect id="Rectangle_400" data-name="Rectangle 400" width="24" height="24" rx="10" transform="translate(23 -4142)" fill="url(#linear-gradient)"/>
                                        <g id="Groupe_265" data-name="Groupe 265" transform="translate(27 -4138)">
                                            <g id="Groupe_264" data-name="Groupe 264" transform="translate(0 0)" clip-path="url(#clip-path)">
                                            <path id="Tracé_107" data-name="Tracé 107" d="M8,0a7.939,7.939,0,0,1,2.125.283,7.537,7.537,0,0,1,1.907.818,8.767,8.767,0,0,1,1.617,1.257,7.669,7.669,0,0,1,1.258,1.627A8.14,8.14,0,0,1,16,8.047a8.042,8.042,0,0,1-.883,3.686,7.78,7.78,0,0,1-1.031,1.541,8.455,8.455,0,0,1-1.359,1.265,7.579,7.579,0,0,1-1.625.927A8.706,8.706,0,0,1,9.25,16V10.373h1.867l.352-2.326H9.25V6.538a1.407,1.407,0,0,1,.141-.684.93.93,0,0,1,.375-.377,1.54,1.54,0,0,1,.531-.165,4.621,4.621,0,0,1,.617-.04h.328c.11,0,.217,0,.321.008V3.3q-.437-.078-.891-.118t-.9-.039a3.526,3.526,0,0,0-1.289.22,2.552,2.552,0,0,0-.945.629,2.772,2.772,0,0,0-.586.983,3.865,3.865,0,0,0-.2,1.3V8.047H4.719v2.326H6.75V16A7.513,7.513,0,0,1,4.9,15.474a8.278,8.278,0,0,1-1.625-.927,7.745,7.745,0,0,1-1.352-1.265A8.337,8.337,0,0,1,.891,11.733a7.927,7.927,0,0,1-.656-1.76A8.351,8.351,0,0,1,0,8.047,8.075,8.075,0,0,1,.281,5.91a7.646,7.646,0,0,1,.813-1.918,8.83,8.83,0,0,1,1.25-1.627A7.618,7.618,0,0,1,3.961,1.1,8.013,8.013,0,0,1,8,0" transform="translate(0 0)" fill="#fff"/>
                                            </g>
                                        </g>
                                        </g>
                        </svg>
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24">
                                        <defs>
                                        <linearGradient id="linear-gradient" y1="0.085" x2="0.928" y2="0.895" gradientUnits="objectBoundingBox">
                                            <stop offset="0" stop-color="#ccc5ff"/>
                                            <stop offset="1" stop-color="#a5d2f6"/>
                                        </linearGradient>
                                        <clipPath id="clip-path">
                                            <rect id="Rectangle_307" data-name="Rectangle 307" width="16" height="13.002" fill="#fff"/>
                                        </clipPath>
                                        </defs>
                                        <g id="Groupe_433" data-name="Groupe 433" transform="translate(-55 4142)">
                                        <rect id="Rectangle_311" data-name="Rectangle 311" width="24" height="24" rx="10" transform="translate(55 -4142)" fill="url(#linear-gradient)"/>
                                        <g id="Groupe_263" data-name="Groupe 263" transform="translate(59 -4136.501)">
                                            <g id="Groupe_262" data-name="Groupe 262" transform="translate(0 0)" clip-path="url(#clip-path)">
                                            <path id="Tracé_106" data-name="Tracé 106" d="M16,1.53a6.553,6.553,0,0,1-1.881.528A3.291,3.291,0,0,0,15.557.237a6.627,6.627,0,0,1-2.081.8A3.23,3.23,0,0,0,11.059,0,3.277,3.277,0,0,0,7.793,3.281a3.419,3.419,0,0,0,.084.75A9.328,9.328,0,0,1,1.116.6,3.246,3.246,0,0,0,.673,2.249,3.228,3.228,0,0,0,2.134,4.972,3.244,3.244,0,0,1,.642,4.589v.023a3.284,3.284,0,0,0,2.631,3.22A3.233,3.233,0,0,1,1.8,7.886a3.273,3.273,0,0,0,3.059,2.279A6.517,6.517,0,0,1,.78,11.572,6.706,6.706,0,0,1,0,11.526,9.29,9.29,0,0,0,5.032,13a9.282,9.282,0,0,0,9.339-9.339c0-.145,0-.283-.007-.428A6.551,6.551,0,0,0,16,1.53" transform="translate(0 0)" fill="#fff"/>
                                            </g>
                                        </g>
                                        </g>
                        </svg>
                    </div>
                    <div class="prestataire-text">
                        {% for row in prestataire.promotion|slice(0,1) %}
                        <p>{{ row.categorie.description }}</p>
                        {% endfor %}
                        <a href="{{ path('prestataire_show', {id: prestataire.id}) }}" class="prestataire-link">En savoir plus</a>
                    </div>
                </div>
            </div>
            {% endfor %}    
        </div>
        <a href="{{ path('prestataire_index') }}">
            <span>Liste complète</span>
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
                <path fill="currentColor" d="M16.01 11H5c-.55 0-1 .45-1 1s.45 1 1 1h11.01v1.79c0 .45.54.67.85.35l2.78-2.79c.19-.2.19-.51 0-.71l-2.78-2.79c-.31-.32-.85-.09-.85.35V11z"/>
            </svg>
        </a>
    </section>

    <section class="about-us">
        <div class="about-us__container">
            <H2 class="about-us__title">Qui sommes-nous ?</H2>
            <div class="about-us__content">
                <div class="about-us__image-container">
                    <img src="{{ asset('assets/uploads/about/icons8-team-yTwXpLO5HAA-unsplash.jpg') }}" alt="">
                </div>
                <div class="about-us__text-container">
                <p class="about-us__text">
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Inventore cumque voluptatum similique dolorem corporis, mollitia explicabo earum officiis quisquam soluta, quos molestiae maiores ipsa excepturi repudiandae sapiente, veniam temporibus deleniti. Orem ipsum dolor sit amet consectetur, adipisicing elit. Ullam nemo veritatis rem quod non fugit.
                </p>
                <p class="about-us__text">
                    Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ullam nemo veritatis rem quod non fugit, maxime ipsa a voluptates tempora itaque, minima corporis temporibus ipsum hic laboriosam sunt animi quidem. Lorem ipsum dolor sit amet consectetur adipisicing elit. Quia, odio. In laborum voluptatibus, repellat ex, nemo, fuga praesentium magni maxime explicabo natus voluptatem necessitatibus sint voluptatum nulla cumque delectus sed. axime ipsa a voluptates tempora itaque, minima corporis temporibus ipsum hic laboriosam sunt animi quidem.
                </p>
                </div>
            </div>
            <a href="#" class="about-us__link">
                <span>Tout savoir</span>
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
                <path fill="currentColor" d="M16.01 11H5c-.55 0-1 .45-1 1s.45 1 1 1h11.01v1.79c0 .45.54.67.85.35l2.78-2.79c.19-.2.19-.51 0-.71l-2.78-2.79c-.31-.32-.85-.09-.85.35V11z"/>
                </svg> 
            </a>   
        </div>
    </section> 

    {{ include('_partials/_footer.html.twig') }}
</main>
{% endblock %}
